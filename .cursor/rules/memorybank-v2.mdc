---
description:
globs:
alwaysApply: false
---
# Memory Bank v2.0 - Sistema de Documenta√ß√£o Inteligente

**Princ√≠pio Core:** Transformar conhecimento t√°cito em documenta√ß√£o estruturada que sobrevive ao reset de mem√≥ria entre sess√µes, garantindo continuidade total do projeto.

---

## üöÄ Quick Start - Implementa√ß√£o em 5 Minutos

### 1. Criar Estrutura Base
```bash
# Executar no root do projeto
mkdir -p memory-bank/{core,context,tracking,archive}
mkdir -p memory-bank/templates
```

### 2. Inicializar Arquivos Essenciais
```bash
# Copiar templates base
cp .cursor/rules/templates/* memory-bank/
```

### 3. Configurar Git Hooks (Opcional)
```bash
# Auto-backup do Memory Bank a cada commit
echo "cp -r memory-bank/ .memory-backup-$(date +%Y%m%d)" >> .git/hooks/pre-commit
chmod +x .git/hooks/pre-commit
```

---

## üìÅ Estrutura Otimizada

```
memory-bank/
‚îú‚îÄ‚îÄ core/                    # Documentos fundamentais (raramente mudam)
‚îÇ   ‚îú‚îÄ‚îÄ projectbrief.md     # Vis√£o e objetivos do projeto
‚îÇ   ‚îú‚îÄ‚îÄ techstack.md        # Stack tecnol√≥gico e decis√µes arquiteturais
‚îÇ   ‚îî‚îÄ‚îÄ teamcontext.md      # Contexto da equipe e responsabilidades
‚îú‚îÄ‚îÄ context/                 # Contexto din√¢mico (atualizado frequentemente)
‚îÇ   ‚îú‚îÄ‚îÄ activecontext.md    # Estado atual e pr√≥ximos passos
‚îÇ   ‚îú‚îÄ‚îÄ decisions.md        # Log de decis√µes importantes
‚îÇ   ‚îú‚îÄ‚îÄ blockers.md         # Bloqueios atuais e solu√ß√µes tentadas
‚îÇ   ‚îî‚îÄ‚îÄ tasks.md            # Sistema de tasks e subtasks detalhado
‚îú‚îÄ‚îÄ tracking/               # M√©tricas e acompanhamento
‚îÇ   ‚îú‚îÄ‚îÄ progress.md         # Progresso de funcionalidades
‚îÇ   ‚îú‚îÄ‚îÄ metrics.md          # KPIs t√©cnicos e de qualidade
‚îÇ   ‚îú‚îÄ‚îÄ changelog.md        # Hist√≥rico de mudan√ßas significativas
‚îÇ   ‚îî‚îÄ‚îÄ timeline.md         # Timeline e estimativas do projeto
‚îú‚îÄ‚îÄ archive/                # Hist√≥rico e versionamento
‚îÇ   ‚îú‚îÄ‚îÄ snapshots/          # Backups peri√≥dicos
‚îÇ   ‚îî‚îÄ‚îÄ deprecated/         # Decis√µes e c√≥digo descontinuado
‚îî‚îÄ‚îÄ templates/              # Templates para novos arquivos
    ‚îú‚îÄ‚îÄ feature-template.md
    ‚îú‚îÄ‚îÄ decision-template.md
    ‚îú‚îÄ‚îÄ task-template.md
    ‚îî‚îÄ‚îÄ session-template.md
```

---

## üìã Templates Prontos para Uso

### Template: projectbrief.md
```markdown
# Project Brief - [Nome do Projeto]

## Vis√£o Geral
**Problema:** [Qual problema estamos resolvendo?]
**Solu√ß√£o:** [Como vamos resolver?]
**Valor:** [Qual o valor entregue?]

## Objetivos SMART
- [ ] **Espec√≠fico:** [Objetivo claro e espec√≠fico]
- [ ] **Mensur√°vel:** [Como medir sucesso?]
- [ ] **Ating√≠vel:** [√â realista?]
- [ ] **Relevante:** [Por que √© importante?]
- [ ] **Temporal:** [Prazo definido]

## Stack Tecnol√≥gico
- **Frontend:** Next.js 14 + TypeScript + Tailwind
- **Backend:** Next.js API Routes + Server Actions
- **Database:** Neon Postgres
- **Auth:** Next Auth
- **Deploy:** Vercel

## Crit√©rios de Sucesso
1. [Crit√©rio 1 - m√©trica espec√≠fica]
2. [Crit√©rio 2 - m√©trica espec√≠fica]
3. [Crit√©rio 3 - m√©trica espec√≠fica]

## Limita√ß√µes Conhecidas
- [Limita√ß√£o 1 e como contornar]
- [Limita√ß√£o 2 e como contornar]

## üìä Escopo Total do Projeto
### Funcionalidades Principais (Peso: 70%)
- [ ] **[Funcionalidade 1]** - Estimativa: [X horas] - Peso: [Y%]
- [ ] **[Funcionalidade 2]** - Estimativa: [X horas] - Peso: [Y%]
- [ ] **[Funcionalidade 3]** - Estimativa: [X horas] - Peso: [Y%]

### Funcionalidades Secund√°rias (Peso: 20%)
- [ ] **[Feature A]** - Estimativa: [X horas] - Peso: [Y%]
- [ ] **[Feature B]** - Estimativa: [X horas] - Peso: [Y%]

### Polimento e Deploy (Peso: 10%)
- [ ] **Testes** - Estimativa: [X horas] - Peso: [Y%]
- [ ] **Deploy** - Estimativa: [X horas] - Peso: [Y%]
- [ ] **Documenta√ß√£o** - Estimativa: [X horas] - Peso: [Y%]

**üìà Progresso Total:** 0% (0/[total] horas estimadas)
**‚è±Ô∏è Tempo Restante:** [total] horas (~[X] dias √∫teis)

---
**√öltima atualiza√ß√£o:** [Data]
**Pr√≥xima revis√£o:** [Data]
```

### Template: activecontext.md
```markdown
# Contexto Ativo - Sess√£o [Data]

## üéØ Foco da Sess√£o
**Objetivo principal:** [O que queremos alcan√ßar hoje?]
**Prioridade:** [Alta/M√©dia/Baixa]
**Tempo estimado:** [X horas]

## üìä Progresso do Projeto
**üìà Progresso Total:** [X]% ([Y]/[Z] horas conclu√≠das)
**‚è±Ô∏è Tempo Restante:** [X] horas (~[Y] dias √∫teis)
**üéØ Pr√≥ximo Marco:** [Nome do marco] - [Data estimada]

### üî• Task Ativa Atual
**Task:** [Nome da task principal]
**Progresso:** [X]% ([Y]/[Z] subtasks conclu√≠das)
**Pr√≥ximo Subtask:** [Descri√ß√£o espec√≠fica do pr√≥ximo passo]
**Tempo estimado para conclus√£o:** [X] horas

## üìä Estado Atual
### ‚úÖ Conclu√≠do Recentemente
- [Item 1 - quando foi conclu√≠do - tempo gasto]
- [Item 2 - quando foi conclu√≠do - tempo gasto]

### üîÑ Em Progresso
- [Item 1 - % de progresso - pr√≥ximo subtask espec√≠fico - tempo restante]
- [Item 2 - % de progresso - pr√≥ximo subtask espec√≠fico - tempo restante]

### ‚è≥ Pr√≥ximos Passos (Ordenados por Prioridade)
1. **[Passo 1]** - Prioridade: Alta - Estimativa: [X]h - Depend√™ncia: [Y]
2. **[Passo 2]** - Prioridade: M√©dia - Estimativa: [X]h - Depend√™ncia: [Y]
3. **[Passo 3]** - Prioridade: Baixa - Estimativa: [X]h - Depend√™ncia: [Y]

## üö´ Bloqueios Atuais
| Bloqueio | Impacto | Solu√ß√£o Tentada | Status | Tempo Perdido |
|----------|---------|-----------------|--------|---------------|
| [Descri√ß√£o] | [Alto/M√©dio/Baixo] | [O que foi tentado] | [Pendente/Resolvido] | [X horas] |

## üí° Decis√µes da Sess√£o
- **[Decis√£o 1]:** [Contexto e justificativa] - Impacto no timeline: [+/-X horas]
- **[Decis√£o 2]:** [Contexto e justificativa] - Impacto no timeline: [+/-X horas]

## üîç Descobertas Importantes
- [Insight 1 - impacto no projeto - ajuste de estimativa]
- [Insight 2 - impacto no projeto - ajuste de estimativa]

## üìù Notas para Pr√≥xima Sess√£o
- [Lembrete importante 1]
- [Lembrete importante 2]
- [Contexto que n√£o pode ser perdido]

## ‚ö° Pr√≥ximo Passo Imediato
**O que fazer assim que abrir o projeto:**
1. [A√ß√£o espec√≠fica e detalhada]
2. [Arquivo/fun√ß√£o/linha exata para trabalhar]
3. [Contexto necess√°rio para continuar]

---
**Sess√£o anterior:** [Link ou data]
**Dura√ß√£o da sess√£o:** [Tempo gasto]
**Pr√≥xima sess√£o planejada:** [Data/objetivo]
**Velocidade atual:** [X] horas/dia √∫til
```

### Template: tasks.md
```markdown
# Sistema de Tasks e Subtasks

## üìä Resumo Geral
**üìà Progresso Total:** [X]% ([Y]/[Z] tasks conclu√≠das)
**‚è±Ô∏è Tempo Total Estimado:** [X] horas
**‚è±Ô∏è Tempo Gasto:** [Y] horas
**‚è±Ô∏è Tempo Restante:** [Z] horas (~[W] dias √∫teis)
**üéØ Data Estimada de Conclus√£o:** [Data]

---

## üî• Task Ativa
### [TASK-001] - [Nome da Task Principal]
**Status:** üîÑ Em Progresso ([X]% conclu√≠do)
**Prioridade:** Alta
**Estimativa Total:** [X] horas
**Tempo Gasto:** [Y] horas
**Tempo Restante:** [Z] hours
**Depend√™ncias:** [Lista de depend√™ncias]

#### üìã Subtasks Detalhadas
- [x] **[SUBTASK-001.1]** - [Descri√ß√£o] - ‚úÖ Conclu√≠do ([X]h)
- [x] **[SUBTASK-001.2]** - [Descri√ß√£o] - ‚úÖ Conclu√≠do ([X]h)
- [ ] **[SUBTASK-001.3]** - [Descri√ß√£o] - üîÑ **PR√ìXIMO PASSO** - Est: [X]h
  - **Detalhes:** [Descri√ß√£o espec√≠fica do que fazer]
  - **Arquivos:** [Lista de arquivos a modificar]
  - **Crit√©rio de conclus√£o:** [Como saber que est√° pronto]
- [ ] **[SUBTASK-001.4]** - [Descri√ß√£o] - ‚è≥ Pendente - Est: [X]h
- [ ] **[SUBTASK-001.5]** - [Descri√ß√£o] - ‚è≥ Pendente - Est: [X]h

**üéØ Pr√≥ximo Passo Imediato:** [SUBTASK-001.3] - [Descri√ß√£o espec√≠fica]

---

## üìã Backlog de Tasks

### üî¥ Prioridade Alta
#### [TASK-002] - [Nome da Task]
**Status:** ‚è≥ Pendente
**Estimativa:** [X] horas
**Depend√™ncias:** [TASK-001]
**Descri√ß√£o:** [Breve descri√ß√£o]

##### Subtasks Planejadas:
- [ ] **[SUBTASK-002.1]** - [Descri√ß√£o] - Est: [X]h
- [ ] **[SUBTASK-002.2]** - [Descri√ß√£o] - Est: [X]h
- [ ] **[SUBTASK-002.3]** - [Descri√ß√£o] - Est: [X]h

### üü° Prioridade M√©dia
#### [TASK-003] - [Nome da Task]
**Status:** ‚è≥ Pendente
**Estimativa:** [X] horas
**Depend√™ncias:** [TASK-002]
**Descri√ß√£o:** [Breve descri√ß√£o]

### üü¢ Prioridade Baixa
#### [TASK-004] - [Nome da Task]
**Status:** ‚è≥ Pendente
**Estimativa:** [X] horas
**Depend√™ncias:** Nenhuma
**Descri√ß√£o:** [Breve descri√ß√£o]

---

## ‚úÖ Tasks Conclu√≠das

### [TASK-000] - [Nome da Task Conclu√≠da]
**Status:** ‚úÖ Conclu√≠do
**Tempo Estimado:** [X] horas
**Tempo Real:** [Y] horas
**Varia√ß√£o:** [+/-Z] horas ([+/-W]%)
**Data de Conclus√£o:** [Data]

#### Subtasks Conclu√≠das:
- [x] **[SUBTASK-000.1]** - [Descri√ß√£o] - ‚úÖ ([X]h)
- [x] **[SUBTASK-000.2]** - [Descri√ß√£o] - ‚úÖ ([X]h)

#### Li√ß√µes Aprendidas:
- [Insight 1 sobre estimativas]
- [Insight 2 sobre implementa√ß√£o]

---

## üìä M√©tricas de Velocidade

### Hist√≥rico de Velocidade
| Semana | Tasks Conclu√≠das | Horas Trabalhadas | Horas/Task | Precis√£o Estimativa |
|--------|------------------|-------------------|------------|-------------------|
| [Data] | [X] | [Y]h | [Z]h | [W]% |

### Tend√™ncias
- **Velocidade M√©dia:** [X] horas/task
- **Precis√£o de Estimativa:** [Y]% (m√©dia de varia√ß√£o)
- **Produtividade:** [Z] tasks/semana

---

## üéØ Marcos do Projeto

### Marco 1: [Nome do Marco]
**Data Alvo:** [Data]
**Status:** [Em Progresso/Conclu√≠do/Atrasado]
**Tasks Inclu√≠das:** [TASK-001, TASK-002, ...]
**Progresso:** [X]% ([Y]/[Z] tasks conclu√≠das)

### Marco 2: [Nome do Marco]
**Data Alvo:** [Data]
**Status:** [Pendente]
**Tasks Inclu√≠das:** [TASK-003, TASK-004, ...]
**Progresso:** [X]% ([Y]/[Z] tasks conclu√≠das)

---

## üîÑ Template para Nova Task

```markdown
### [TASK-XXX] - [Nome da Task]
**Status:** ‚è≥ Pendente
**Prioridade:** [Alta/M√©dia/Baixa]
**Estimativa:** [X] horas
**Depend√™ncias:** [Lista]
**Descri√ß√£o:** [Descri√ß√£o detalhada]

#### Subtasks:
- [ ] **[SUBTASK-XXX.1]** - [Descri√ß√£o espec√≠fica] - Est: [X]h
  - **Detalhes:** [O que exatamente fazer]
  - **Arquivos:** [Quais arquivos modificar]
  - **Crit√©rio:** [Como saber que est√° pronto]
- [ ] **[SUBTASK-XXX.2]** - [Descri√ß√£o espec√≠fica] - Est: [X]h
- [ ] **[SUBTASK-XXX.3]** - [Descri√ß√£o espec√≠fica] - Est: [X]h

**Crit√©rio de Aceita√ß√£o:**
- [ ] [Crit√©rio 1]
- [ ] [Crit√©rio 2]
- [ ] [Crit√©rio 3]
```

---
**√öltima atualiza√ß√£o:** [Data e hora]
**Pr√≥xima revis√£o:** [Data]
```

### Template: timeline.md
```markdown
# Timeline e Estimativas do Projeto

## üìä Vis√£o Geral do Projeto
**üìÖ Data de In√≠cio:** [Data]
**üìÖ Data Estimada de Conclus√£o:** [Data]
**üìÖ Data Alvo:** [Data]
**‚è±Ô∏è Dura√ß√£o Total Estimada:** [X] semanas ([Y] dias √∫teis)

## üéØ Status Atual
**üìà Progresso Geral:** [X]% conclu√≠do
**‚è±Ô∏è Tempo Gasto:** [Y] horas ([Z] dias √∫teis)
**‚è±Ô∏è Tempo Restante:** [W] horas ([V] dias √∫teis)
**üöÄ Velocidade Atual:** [X] horas/dia √∫til
**üìä Tend√™ncia:** [Adiantado/No Prazo/Atrasado] por [X] dias

---

## üìÖ Cronograma Detalhado

### Semana 1: [Data in√≠cio] - [Data fim]
**Foco:** [Tema principal da semana]
**Horas Planejadas:** [X]h
**Horas Reais:** [Y]h
**Status:** [Conclu√≠da/Em Progresso/Pendente]

#### Tasks da Semana:
- [x] **[TASK-001]** - [Nome] - ‚úÖ Conclu√≠do ([X]h)
- [x] **[TASK-002]** - [Nome] - ‚úÖ Conclu√≠do ([X]h)
- [ ] **[TASK-003]** - [Nome] - üîÑ Em Progresso ([X]h restantes)

#### Marcos Atingidos:
- ‚úÖ [Marco 1] - [Descri√ß√£o]

### Semana 2: [Data in√≠cio] - [Data fim]
**Foco:** [Tema principal da semana]
**Horas Planejadas:** [X]h
**Status:** [Em Progresso/Pendente]

#### Tasks Planejadas:
- [ ] **[TASK-004]** - [Nome] - Est: [X]h
- [ ] **[TASK-005]** - [Nome] - Est: [X]h

#### Marcos Esperados:
- üéØ [Marco 2] - [Descri√ß√£o]

### Semana 3: [Data in√≠cio] - [Data fim]
**Foco:** [Tema principal da semana]
**Horas Planejadas:** [X]h
**Status:** Pendente

---

## üéØ Marcos Principais

### üèÅ Marco 1: MVP B√°sico
**Data Alvo:** [Data]
**Data Real:** [Data] ‚úÖ
**Status:** Conclu√≠do
**Crit√©rios:**
- [x] [Crit√©rio 1]
- [x] [Crit√©rio 2]
- [x] [Crit√©rio 3]

### üèÅ Marco 2: Funcionalidades Core
**Data Alvo:** [Data]
**Status:** üîÑ Em Progresso ([X]%)
**Crit√©rios:**
- [x] [Crit√©rio 1]
- [ ] [Crit√©rio 2]
- [ ] [Crit√©rio 3]

### üèÅ Marco 3: Polimento e Deploy
**Data Alvo:** [Data]
**Status:** ‚è≥ Pendente
**Crit√©rios:**
- [ ] [Crit√©rio 1]
- [ ] [Crit√©rio 2]
- [ ] [Crit√©rio 3]

---

## üìä An√°lise de Velocidade

### M√©tricas Semanais
| Semana | Horas Planejadas | Horas Reais | Efici√™ncia | Tasks Conclu√≠das | Desvio |
|--------|------------------|-------------|------------|------------------|--------|
| 1 | [X]h | [Y]h | [Z]% | [W] | [+/-V]h |
| 2 | [X]h | [Y]h | [Z]% | [W] | [+/-V]h |

### Tend√™ncias Identificadas
- **Velocidade M√©dia:** [X] horas/semana
- **Efici√™ncia M√©dia:** [Y]% (horas reais vs planejadas)
- **Precis√£o de Estimativa:** [Z]% de acerto
- **Padr√µes:** [Observa√ß√µes sobre produtividade]

---

## üîÆ Proje√ß√µes e Ajustes

### Cen√°rio Atual
**Com velocidade atual de [X]h/semana:**
- **Data de conclus√£o projetada:** [Data]
- **Desvio do prazo original:** [+/-X] dias
- **Confian√ßa na estimativa:** [Alta/M√©dia/Baixa]

### Cen√°rio Otimista (+20% velocidade)
- **Data de conclus√£o:** [Data]
- **Economia de tempo:** [X] dias

### Cen√°rio Pessimista (-20% velocidade)
- **Data de conclus√£o:** [Data]
- **Atraso adicional:** [X] dias

### A√ß√µes Recomendadas
- [ ] [A√ß√£o 1 para manter/acelerar cronograma]
- [ ] [A√ß√£o 2 para mitigar riscos]
- [ ] [A√ß√£o 3 para otimizar processo]

---

## üö® Alertas e Riscos

### Riscos Identificados
| Risco | Probabilidade | Impacto | Mitiga√ß√£o | Status |
|-------|---------------|---------|-----------|--------|
| [Descri√ß√£o] | [Alta/M√©dia/Baixa] | [+/-X dias] | [Plano de a√ß√£o] | [Ativo/Mitigado] |

### Alertas Atuais
- üî¥ **[Alerta Cr√≠tico]:** [Descri√ß√£o e a√ß√£o necess√°ria]
- üü° **[Alerta Moderado]:** [Descri√ß√£o e monitoramento]

---

## üìà Dashboard de Progresso

```
Progresso Geral: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë] 80%

Por Categoria:
Frontend:     [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚úÖ
Backend:      [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë]  60% üîÑ
Database:     [‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë]  40% ‚è≥
Deploy:       [‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë]   0% ‚è≥

Tempo:
Gasto:        [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë]  60% ([X]/[Y] horas)
Restante:     [‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà]  40% ([Z] horas)
```

---
**√öltima atualiza√ß√£o:** [Data e hora]
**Pr√≥xima revis√£o:** [Data]
**Respons√°vel:** [Nome]
```

---

## ü§ñ Automa√ß√£o e Scripts

### Script de Inicializa√ß√£o
```bash
#!/bin/bash
# setup-memory-bank.sh

echo "üß† Configurando Memory Bank..."

# Criar estrutura de pastas
mkdir -p memory-bank/{core,context,tracking,archive/snapshots,templates}

# Copiar templates
cp .cursor/rules/templates/* memory-bank/templates/ 2>/dev/null || echo "Templates n√£o encontrados"

# Criar arquivos iniciais se n√£o existirem
if [ ! -f memory-bank/core/projectbrief.md ]; then
    cp memory-bank/templates/projectbrief-template.md memory-bank/core/projectbrief.md
    echo "‚úÖ projectbrief.md criado"
fi

if [ ! -f memory-bank/context/activecontext.md ]; then
    cp memory-bank/templates/activecontext-template.md memory-bank/context/activecontext.md
    echo "‚úÖ activecontext.md criado"
fi

# Configurar Git para ignorar snapshots grandes
echo "memory-bank/archive/snapshots/" >> .gitignore

echo "üéâ Memory Bank configurado com sucesso!"
echo "üìù Edite memory-bank/core/projectbrief.md para come√ßar"
```

### Script de Backup Autom√°tico
```bash
#!/bin/bash
# backup-memory-bank.sh

BACKUP_DIR="memory-bank/archive/snapshots"
TIMESTAMP=$(date +"%Y%m%d_%H%M%S")
BACKUP_NAME="memory-bank-backup-$TIMESTAMP"

# Criar backup
cp -r memory-bank/core memory-bank/context memory-bank/tracking "$BACKUP_DIR/$BACKUP_NAME/"

# Manter apenas √∫ltimos 10 backups
cd "$BACKUP_DIR"
ls -t | tail -n +11 | xargs rm -rf

echo "üíæ Backup criado: $BACKUP_NAME"
```

### Script de C√°lculo de Progresso
```bash
#!/bin/bash
# calculate-progress.sh

echo "üßÆ Calculando progresso do projeto..."

TASKS_FILE="memory-bank/context/tasks.md"
TIMELINE_FILE="memory-bank/tracking/timeline.md"
ACTIVE_CONTEXT="memory-bank/context/activecontext.md"

# Fun√ß√£o para extrair dados das tasks
calculate_task_progress() {
    if [ ! -f "$TASKS_FILE" ]; then
        echo "‚ùå Arquivo tasks.md n√£o encontrado"
        return 1
    fi
    
    # Contar tasks conclu√≠das vs total
    COMPLETED_TASKS=$(grep -c "‚úÖ Conclu√≠do" "$TASKS_FILE")
    TOTAL_TASKS=$(grep -c "### \[TASK-" "$TASKS_FILE")
    
    # Contar subtasks conclu√≠das vs total
    COMPLETED_SUBTASKS=$(grep -c "\[x\].*SUBTASK" "$TASKS_FILE")
    TOTAL_SUBTASKS=$(grep -c "\[ \].*SUBTASK\|\[x\].*SUBTASK" "$TASKS_FILE")
    
    # Calcular horas
    COMPLETED_HOURS=$(grep "‚úÖ Conclu√≠do" "$TASKS_FILE" | grep -o "([0-9]*h)" | sed 's/[^0-9]//g' | awk '{sum+=$1} END {print sum+0}')
    ESTIMATED_HOURS=$(grep -o "Est: [0-9]*h\|Estimativa: [0-9]*h" "$TASKS_FILE" | sed 's/[^0-9]//g' | awk '{sum+=$1} END {print sum+0}')
    
    # Calcular percentuais
    if [ $TOTAL_TASKS -gt 0 ]; then
        TASK_PROGRESS=$((COMPLETED_TASKS * 100 / TOTAL_TASKS))
    else
        TASK_PROGRESS=0
    fi
    
    if [ $TOTAL_SUBTASKS -gt 0 ]; then
        SUBTASK_PROGRESS=$((COMPLETED_SUBTASKS * 100 / TOTAL_SUBTASKS))
    else
        SUBTASK_PROGRESS=0
    fi
    
    if [ $ESTIMATED_HOURS -gt 0 ]; then
        HOUR_PROGRESS=$((COMPLETED_HOURS * 100 / ESTIMATED_HOURS))
        REMAINING_HOURS=$((ESTIMATED_HOURS - COMPLETED_HOURS))
    else
        HOUR_PROGRESS=0
        REMAINING_HOURS=0
    fi
    
    echo "üìä Progresso Calculado:"
    echo "  Tasks: $COMPLETED_TASKS/$TOTAL_TASKS ($TASK_PROGRESS%)"
    echo "  Subtasks: $COMPLETED_SUBTASKS/$TOTAL_SUBTASKS ($SUBTASK_PROGRESS%)"
    echo "  Horas: $COMPLETED_HOURS/$ESTIMATED_HOURS ($HOUR_PROGRESS%)"
    echo "  Restante: $REMAINING_HOURS horas"
    
    # Atualizar activecontext.md com progresso
    update_active_context
}

# Fun√ß√£o para atualizar contexto ativo
update_active_context() {
    if [ ! -f "$ACTIVE_CONTEXT" ]; then
        echo "‚ùå Arquivo activecontext.md n√£o encontrado"
        return 1
    fi
    
    # Backup do arquivo original
    cp "$ACTIVE_CONTEXT" "$ACTIVE_CONTEXT.backup"
    
    # Atualizar progresso no activecontext.md
    sed -i.bak "s/\*\*üìà Progresso Total:\*\* \[.*\]/\*\*üìà Progresso Total:\*\* ${HOUR_PROGRESS}% (${COMPLETED_HOURS}\/${ESTIMATED_HOURS} horas conclu√≠das)/" "$ACTIVE_CONTEXT"
    sed -i.bak "s/\*\*‚è±Ô∏è Tempo Restante:\*\* \[.*\]/\*\*‚è±Ô∏è Tempo Restante:\*\* ${REMAINING_HOURS} horas (~$((REMAINING_HOURS / 8)) dias √∫teis)/" "$ACTIVE_CONTEXT"
    
    echo "‚úÖ Contexto ativo atualizado"
}

# Fun√ß√£o para encontrar pr√≥ximo passo
find_next_step() {
    NEXT_SUBTASK=$(grep -A 3 "üîÑ \*\*PR√ìXIMO PASSO\*\*" "$TASKS_FILE" | head -4)
    
    if [ ! -z "$NEXT_SUBTASK" ]; then
        echo "üéØ Pr√≥ximo Passo Identificado:"
        echo "$NEXT_SUBTASK"
        
        # Extrair detalhes espec√≠ficos
        TASK_ID=$(echo "$NEXT_SUBTASK" | grep -o "SUBTASK-[0-9]*\.[0-9]*")
        DESCRIPTION=$(echo "$NEXT_SUBTASK" | grep -o "\*\*SUBTASK.*\*\*" | sed 's/\*\*//g')
        
        echo ""
        echo "üìù Para atualizar activecontext.md:"
        echo "  Task ID: $TASK_ID"
        echo "  Descri√ß√£o: $DESCRIPTION"
    else
        echo "‚ö†Ô∏è Nenhum pr√≥ximo passo marcado encontrado"
        echo "üí° Verifique se h√° subtasks marcadas com 'üîÑ **PR√ìXIMO PASSO**'"
    fi
}

# Fun√ß√£o para gerar relat√≥rio de velocidade
generate_velocity_report() {
    echo ""
    echo "üìà Relat√≥rio de Velocidade:"
    
    # Calcular dias desde in√≠cio (assumindo que h√° uma data de in√≠cio)
    START_DATE=$(grep "Data de In√≠cio" "$TIMELINE_FILE" 2>/dev/null | grep -o "[0-9][0-9]/[0-9][0-9]/[0-9][0-9][0-9][0-9]" | head -1)
    
    if [ ! -z "$START_DATE" ]; then
        # Converter para timestamp (formato brasileiro DD/MM/YYYY)
        START_TIMESTAMP=$(date -j -f "%d/%m/%Y" "$START_DATE" "+%s" 2>/dev/null || echo "0")
        CURRENT_TIMESTAMP=$(date "+%s")
        
        if [ $START_TIMESTAMP -gt 0 ]; then
            DAYS_ELAPSED=$(( (CURRENT_TIMESTAMP - START_TIMESTAMP) / 86400 ))
            WORK_DAYS_ELAPSED=$(( DAYS_ELAPSED * 5 / 7 )) # Aproxima√ß√£o de dias √∫teis
            
            if [ $WORK_DAYS_ELAPSED -gt 0 ]; then
                VELOCITY=$(( COMPLETED_HOURS / WORK_DAYS_ELAPSED ))
                REMAINING_WORK_DAYS=$(( REMAINING_HOURS / VELOCITY ))
                
                echo "  Dias decorridos: $DAYS_ELAPSED (~$WORK_DAYS_ELAPSED √∫teis)"
                echo "  Velocidade atual: $VELOCITY horas/dia √∫til"
                echo "  Estimativa de conclus√£o: $REMAINING_WORK_DAYS dias √∫teis"
                
                # Calcular data estimada de conclus√£o
                COMPLETION_DATE=$(date -v +${REMAINING_WORK_DAYS}d "+%d/%m/%Y")
                echo "  Data estimada: $COMPLETION_DATE"
            fi
        fi
    fi
}

# Executar todas as fun√ß√µes
calculate_task_progress
find_next_step
generate_velocity_report

echo ""
echo "üéâ C√°lculo de progresso conclu√≠do!"
echo "üìù Verifique memory-bank/context/activecontext.md para ver as atualiza√ß√µes"
```

### Script de Atualiza√ß√£o de Task
```bash
#!/bin/bash
# update-task.sh

# Script para marcar subtask como conclu√≠da e calcular pr√≥ximo passo
# Uso: ./update-task.sh SUBTASK-001.3 2.5

if [ $# -ne 2 ]; then
    echo "‚ùå Uso: $0 <SUBTASK-ID> <HORAS_GASTAS>"
    echo "   Exemplo: $0 SUBTASK-001.3 2.5"
    exit 1
fi

SUBTASK_ID="$1"
HOURS_SPENT="$2"
TASKS_FILE="memory-bank/context/tasks.md"

if [ ! -f "$TASKS_FILE" ]; then
    echo "‚ùå Arquivo tasks.md n√£o encontrado"
    exit 1
fi

echo "‚úÖ Marcando $SUBTASK_ID como conclu√≠da ($HOURS_SPENT horas)..."

# Backup do arquivo
cp "$TASKS_FILE" "$TASKS_FILE.backup"

# Marcar subtask como conclu√≠da
sed -i.bak "s/- \[ \] \*\*\[$SUBTASK_ID\]\*\*.*/- [x] **[$SUBTASK_ID]** - [Descri√ß√£o] - ‚úÖ Conclu√≠do (${HOURS_SPENT}h)/" "$TASKS_FILE"

# Encontrar pr√≥xima subtask pendente na mesma task
TASK_PREFIX=$(echo "$SUBTASK_ID" | cut -d'.' -f1)
NEXT_SUBTASK=$(grep -A 10 "$TASK_PREFIX" "$TASKS_FILE" | grep "- \[ \]" | head -1 | grep -o "SUBTASK-[0-9]*\.[0-9]*")

if [ ! -z "$NEXT_SUBTASK" ]; then
    echo "üéØ Pr√≥xima subtask identificada: $NEXT_SUBTASK"
    
    # Marcar como pr√≥ximo passo
    sed -i.bak "s/- \[ \] \*\*\[$NEXT_SUBTASK\]\*\*/- [ ] **[$NEXT_SUBTASK]** - [Descri√ß√£o] - üîÑ **PR√ìXIMO PASSO**/" "$TASKS_FILE"
    
    echo "‚úÖ $NEXT_SUBTASK marcada como pr√≥ximo passo"
else
    echo "üéâ Todas as subtasks desta task foram conclu√≠das!"
fi

# Recalcular progresso
./calculate-progress.sh

echo "‚úÖ Task atualizada com sucesso!"
```

### Script de Nova Task
```bash
#!/bin/bash
# new-task.sh

# Script para criar nova task com subtasks
# Uso: ./new-task.sh "Nome da Task" 8 "Descri√ß√£o da task"

if [ $# -ne 3 ]; then
    echo "‚ùå Uso: $0 \"<NOME_DA_TASK>\" <HORAS_ESTIMADAS> \"<DESCRI√á√ÉO>\""
    echo "   Exemplo: $0 \"Implementar Login\" 8 \"Sistema de autentica√ß√£o com Next Auth\""
    exit 1
fi

TASK_NAME="$1"
ESTIMATED_HOURS="$2"
DESCRIPTION="$3"
TASKS_FILE="memory-bank/context/tasks.md"

# Gerar pr√≥ximo ID de task
LAST_TASK_ID=$(grep "### \[TASK-" "$TASKS_FILE" | tail -1 | grep -o "TASK-[0-9]*" | grep -o "[0-9]*")
NEXT_TASK_ID=$((LAST_TASK_ID + 1))
TASK_ID=$(printf "TASK-%03d" $NEXT_TASK_ID)

echo "üÜï Criando nova task: [$TASK_ID] $TASK_NAME"

# Template da nova task
NEW_TASK="
### [$TASK_ID] - $TASK_NAME
**Status:** ‚è≥ Pendente
**Prioridade:** Alta
**Estimativa:** $ESTIMATED_HOURS horas
**Depend√™ncias:** [Definir]
**Descri√ß√£o:** $DESCRIPTION

#### Subtasks:
- [ ] **[SUBTASK-$NEXT_TASK_ID.1]** - [Definir subtask 1] - Est: [X]h
  - **Detalhes:** [O que exatamente fazer]
  - **Arquivos:** [Quais arquivos modificar]
  - **Crit√©rio:** [Como saber que est√° pronto]
- [ ] **[SUBTASK-$NEXT_TASK_ID.2]** - [Definir subtask 2] - Est: [X]h
- [ ] **[SUBTASK-$NEXT_TASK_ID.3]** - [Definir subtask 3] - Est: [X]h

**Crit√©rio de Aceita√ß√£o:**
- [ ] [Crit√©rio 1]
- [ ] [Crit√©rio 2]
- [ ] [Crit√©rio 3]

---
"

# Adicionar nova task ao arquivo
echo "$NEW_TASK" >> "$TASKS_FILE"

echo "‚úÖ Task [$TASK_ID] criada com sucesso!"
echo "üìù Edite memory-bank/context/tasks.md para definir as subtasks espec√≠ficas"

# Recalcular progresso
./calculate-progress.sh
```

---

## üìä M√©tricas de Efetividade

### KPIs do Memory Bank
```markdown
# M√©tricas de Sucesso - Memory Bank

## Continuidade entre Sess√µes
- **Meta:** 95% de contexto preservado
- **Medi√ß√£o:** Tempo para retomar trabalho < 5 minutos
- **Status:** [Verde/Amarelo/Vermelho]

## Qualidade da Documenta√ß√£o
- **Meta:** Documentos atualizados em 100% das sess√µes
- **Medi√ß√£o:** Data da √∫ltima atualiza√ß√£o < 7 dias
- **Status:** [Verde/Amarelo/Vermelho]

## Efici√™ncia de Decis√µes
- **Meta:** 0 decis√µes refeitas por falta de contexto
- **Medi√ß√£o:** N√∫mero de decis√µes revertidas por m√™s
- **Status:** [Verde/Amarelo/Vermelho]

## Onboarding de Novos Membros
- **Meta:** Novo membro produtivo em < 2 dias
- **Medi√ß√£o:** Tempo at√© primeira contribui√ß√£o significativa
- **Status:** [Verde/Amarelo/Vermelho]
```

---

## üîÑ Workflows Automatizados

### Workflow de In√≠cio de Sess√£o
```mermaid
flowchart TD
    Start[In√≠cio da Sess√£o] --> Check[Verificar activecontext.md]
    Check --> Progress[Executar calculate-progress.sh]
    Progress --> NextStep[Identificar pr√≥ximo passo]
    NextStep --> Update[Atualizar contexto atual]
    Update --> Plan[Planejar sess√£o]
    Plan --> Execute[Executar trabalho]
    Execute --> Document[Documentar progresso]
    Document --> Backup[Backup autom√°tico]
```

### Workflow de Fim de Sess√£o
```mermaid
flowchart TD
    End[Fim da Sess√£o] --> Complete[Marcar subtasks conclu√≠das]
    Complete --> UpdateTask[Executar update-task.sh]
    UpdateTask --> Summary[Resumir realiza√ß√µes]
    Summary --> Update[Atualizar activecontext.md]
    Update --> Decisions[Documentar decis√µes]
    Decisions --> Blockers[Atualizar bloqueios]
    Blockers --> Next[Definir pr√≥ximo passo espec√≠fico]
    Next --> Backup[Criar snapshot]
```

### üöÄ Protocolo de In√≠cio de Sess√£o (NUNCA PERCA O PR√ìXIMO PASSO)

#### 1. Comando de Inicializa√ß√£o
```bash
# Executar SEMPRE ao iniciar uma sess√£o
./calculate-progress.sh
```

#### 2. Checklist de In√≠cio (2 minutos)
- [ ] **Ler activecontext.md** - Se√ß√£o "üî• Task Ativa Atual"
- [ ] **Verificar pr√≥ximo subtask** - Marcado com "üîÑ **PR√ìXIMO PASSO**"
- [ ] **Confirmar arquivos** - Quais arquivos modificar
- [ ] **Revisar crit√©rio** - Como saber que est√° pronto
- [ ] **Estimar tempo** - Quanto tempo vai levar

#### 3. Template de In√≠cio de Sess√£o
```markdown
## üöÄ In√≠cio de Sess√£o - [Data/Hora]

### ‚úÖ Checklist Executado
- [x] Executei `./calculate-progress.sh`
- [x] Li activecontext.md
- [x] Identifiquei pr√≥ximo passo: [SUBTASK-XXX.X]
- [x] Revisei arquivos a modificar: [lista]
- [x] Entendi crit√©rio de conclus√£o: [descri√ß√£o]

### üéØ Foco da Sess√£o
**Subtask Ativa:** [SUBTASK-XXX.X] - [Descri√ß√£o]
**Tempo Estimado:** [X] horas
**Arquivos Principais:** [lista]
**Crit√©rio de Sucesso:** [como saber que terminou]

### üìä Status Atual
**Progresso Geral:** [X]% ([Y]/[Z] horas)
**Task Atual:** [X]% ([Y]/[Z] subtasks)
**Tempo Restante:** [X] horas (~[Y] dias)
```

### üèÅ Protocolo de Fim de Sess√£o (SEMPRE DEFINA O PR√ìXIMO PASSO)

#### 1. Comandos de Finaliza√ß√£o
```bash
# Marcar subtask como conclu√≠da (se aplic√°vel)
./update-task.sh SUBTASK-001.3 2.5

# Recalcular progresso
./calculate-progress.sh

# Criar backup
./backup-memory-bank.sh
```

#### 2. Checklist de Fim (3 minutos)
- [ ] **Marcar progresso** - Subtasks conclu√≠das ou parciais
- [ ] **Documentar tempo** - Horas gastas na sess√£o
- [ ] **Identificar bloqueios** - Problemas encontrados
- [ ] **Definir pr√≥ximo passo** - Espec√≠fico e detalhado
- [ ] **Atualizar estimativas** - Ajustar se necess√°rio

#### 3. Template de Fim de Sess√£o
```markdown
## üèÅ Fim de Sess√£o - [Data/Hora]

### ‚úÖ Realiza√ß√µes da Sess√£o
- [x] **[SUBTASK-XXX.X]** - Conclu√≠do em [X]h
- [x] **[SUBTASK-XXX.Y]** - 50% conclu√≠do ([detalhes])
- [x] **Descoberta:** [insight importante]

### üö´ Bloqueios Encontrados
- **[Bloqueio 1]:** [descri√ß√£o] - Solu√ß√£o tentada: [X] - Status: [pendente/resolvido]

### üéØ PR√ìXIMO PASSO DEFINIDO
**Subtask:** [SUBTASK-XXX.Z]
**Descri√ß√£o:** [O que fazer exatamente]
**Arquivos:** [Quais arquivos modificar]
**Linha/Fun√ß√£o:** [Onde come√ßar especificamente]
**Contexto:** [Informa√ß√£o necess√°ria para continuar]
**Estimativa:** [X] horas

### üìä Progresso Atualizado
**Antes:** [X]% ‚Üí **Depois:** [Y]%
**Horas Gastas:** [X]h
**Velocidade:** [Y]h/dia √∫til
**Estimativa de Conclus√£o:** [Data]

### üìù Notas para Pr√≥xima Sess√£o
- [Contexto importante que n√£o pode ser perdido]
- [Decis√£o tomada e justificativa]
- [Refer√™ncia √∫til ou documenta√ß√£o]
```

### ü§ñ Automa√ß√£o Inteligente de Pr√≥ximos Passos

#### Script de Sugest√£o de Pr√≥ximo Passo
```bash
#!/bin/bash
# suggest-next-step.sh

echo "ü§ñ Analisando pr√≥ximo passo inteligente..."

TASKS_FILE="memory-bank/context/tasks.md"
ACTIVE_CONTEXT="memory-bank/context/activecontext.md"

# Fun√ß√£o para sugerir pr√≥ximo passo baseado em depend√™ncias
suggest_next_step() {
    echo "üîç Analisando depend√™ncias e prioridades..."
    
    # Encontrar tasks sem depend√™ncias ou com depend√™ncias resolvidas
    AVAILABLE_TASKS=$(grep -B 5 -A 10 "Status.*Pendente" "$TASKS_FILE" | grep -B 5 -A 10 "Depend√™ncias.*Nenhuma\|Depend√™ncias.*\[Conclu√≠do\]")
    
    if [ ! -z "$AVAILABLE_TASKS" ]; then
        echo "‚úÖ Tasks dispon√≠veis para execu√ß√£o:"
        echo "$AVAILABLE_TASKS" | grep "### \[TASK-" | head -3
    fi
    
    # Encontrar subtasks da task ativa
    ACTIVE_TASK=$(grep -A 20 "üîÑ Em Progresso" "$TASKS_FILE" | head -20)
    NEXT_SUBTASK=$(echo "$ACTIVE_TASK" | grep "- \[ \]" | head -1)
    
    if [ ! -z "$NEXT_SUBTASK" ]; then
        echo ""
        echo "üéØ Pr√≥xima subtask recomendada:"
        echo "$NEXT_SUBTASK"
        
        # Extrair ID da subtask
        SUBTASK_ID=$(echo "$NEXT_SUBTASK" | grep -o "SUBTASK-[0-9]*\.[0-9]*")
        
        if [ ! -z "$SUBTASK_ID" ]; then
            echo ""
            echo "üöÄ Para marcar como pr√≥ximo passo, execute:"
            echo "   sed -i 's/- \[ \] \*\*\[$SUBTASK_ID\]\*\*/- [ ] **[$SUBTASK_ID]** - [Descri√ß√£o] - üîÑ **PR√ìXIMO PASSO**/' $TASKS_FILE"
        fi
    fi
}

# Fun√ß√£o para verificar consist√™ncia
check_consistency() {
    echo ""
    echo "üîç Verificando consist√™ncia do Memory Bank..."
    
    # Verificar se h√° m√∫ltiplos pr√≥ximos passos
    NEXT_STEPS_COUNT=$(grep -c "üîÑ \*\*PR√ìXIMO PASSO\*\*" "$TASKS_FILE")
    
    if [ $NEXT_STEPS_COUNT -gt 1 ]; then
        echo "‚ö†Ô∏è ATEN√á√ÉO: M√∫ltiplos pr√≥ximos passos encontrados ($NEXT_STEPS_COUNT)"
        echo "üí° Recomenda√ß√£o: Manter apenas 1 pr√≥ximo passo ativo"
    elif [ $NEXT_STEPS_COUNT -eq 0 ]; then
        echo "‚ö†Ô∏è ATEN√á√ÉO: Nenhum pr√≥ximo passo definido"
        echo "üí° Recomenda√ß√£o: Definir pr√≥ximo passo espec√≠fico"
    else
        echo "‚úÖ Pr√≥ximo passo √∫nico definido corretamente"
    fi
    
    # Verificar se activecontext.md est√° atualizado
    CONTEXT_DATE=$(grep "√öltima atualiza√ß√£o" "$ACTIVE_CONTEXT" | grep -o "[0-9][0-9]/[0-9][0-9]/[0-9][0-9][0-9][0-9]" || echo "N/A")
    TODAY=$(date "+%d/%m/%Y")
    
    if [ "$CONTEXT_DATE" != "$TODAY" ]; then
        echo "‚ö†Ô∏è ATEN√á√ÉO: activecontext.md n√£o foi atualizado hoje"
        echo "üí° Recomenda√ß√£o: Atualizar contexto ativo"
    else
        echo "‚úÖ Contexto ativo atualizado hoje"
    fi
}

# Executar an√°lises
suggest_next_step
check_consistency

echo ""
echo "üéâ An√°lise de pr√≥ximo passo conclu√≠da!"
```

### üì± Dashboard de Status R√°pido

#### Comando de Status Instant√¢neo
```bash
#!/bin/bash
# status.sh - Dashboard r√°pido do projeto

echo "üìä DASHBOARD DO PROJETO - $(date '+%d/%m/%Y %H:%M')"
echo "=================================================="

# Progresso geral
TASKS_FILE="memory-bank/context/tasks.md"
COMPLETED_TASKS=$(grep -c "‚úÖ Conclu√≠do" "$TASKS_FILE" 2>/dev/null || echo "0")
TOTAL_TASKS=$(grep -c "### \[TASK-" "$TASKS_FILE" 2>/dev/null || echo "1")
PROGRESS=$((COMPLETED_TASKS * 100 / TOTAL_TASKS))

echo "üéØ PROGRESSO GERAL: $PROGRESS% ($COMPLETED_TASKS/$TOTAL_TASKS tasks)"

# Pr√≥ximo passo
NEXT_STEP=$(grep -A 2 "üîÑ \*\*PR√ìXIMO PASSO\*\*" "$TASKS_FILE" | head -3)
if [ ! -z "$NEXT_STEP" ]; then
    echo "‚ö° PR√ìXIMO PASSO:"
    echo "   $(echo "$NEXT_STEP" | head -1 | sed 's/.*\*\*\[/[/' | sed 's/\*\*.*//')"
else
    echo "‚ùå PR√ìXIMO PASSO: N√ÉO DEFINIDO"
fi

# Velocidade
COMPLETED_HOURS=$(grep "‚úÖ Conclu√≠do" "$TASKS_FILE" | grep -o "([0-9]*h)" | sed 's/[^0-9]//g' | awk '{sum+=$1} END {print sum+0}')
echo "‚è±Ô∏è HORAS TRABALHADAS: ${COMPLETED_HOURS}h"

# Bloqueios ativos
BLOCKERS=$(grep -c "Pendente" "memory-bank/context/activecontext.md" 2>/dev/null || echo "0")
if [ $BLOCKERS -gt 0 ]; then
    echo "üö´ BLOQUEIOS ATIVOS: $BLOCKERS"
else
    echo "‚úÖ SEM BLOQUEIOS"
fi

echo "=================================================="
echo "üí° Para detalhes: ./calculate-progress.sh"
echo "üöÄ Para pr√≥ximo passo: ./suggest-next-step.sh"
```

### üéØ Integra√ß√£o com Cursor Rules

#### Regras Autom√°ticas para Cursor
```typescript
// Adicionar ao .cursorrules
const memoryBankWorkflow = {
  // Sempre executar no in√≠cio da sess√£o
  onSessionStart: [
    "Executar: ./calculate-progress.sh",
    "Ler: memory-bank/context/activecontext.md",
    "Identificar: pr√≥ximo subtask marcado com üîÑ",
    "Confirmar: arquivos e crit√©rios de conclus√£o"
  ],
  
  // Sempre executar ao fazer mudan√ßas
  onCodeChange: [
    "Documentar: progresso da subtask atual",
    "Atualizar: estimativas se necess√°rio",
    "Verificar: crit√©rio de conclus√£o"
  ],
  
  // Sempre executar no fim da sess√£o
  onSessionEnd: [
    "Executar: ./update-task.sh [SUBTASK-ID] [HORAS]",
    "Definir: pr√≥ximo passo espec√≠fico",
    "Atualizar: memory-bank/context/activecontext.md",
    "Executar: ./backup-memory-bank.sh"
  ],
  
  // Lembretes autom√°ticos
  reminders: [
    "üéØ Sempre definir pr√≥ximo passo espec√≠fico",
    "üìä Atualizar progresso a cada subtask",
    "üîÑ Manter apenas 1 pr√≥ximo passo ativo",
    "üìù Documentar bloqueios e solu√ß√µes"
  ]
}
```

---

## üéØ Integra√ß√£o com Ferramentas

### VS Code Extensions
```json
{
  "recommendations": [
    "yzhang.markdown-all-in-one",
    "shd101wyy.markdown-preview-enhanced",
    "bierner.markdown-mermaid",
    "ms-vscode.vscode-json",
    "bradlc.vscode-tailwindcss"
  ]
}
```

### Git Hooks
```bash
# .git/hooks/post-commit
#!/bin/bash
# Auto-atualizar changelog ap√≥s commits
echo "$(date): $(git log -1 --pretty=%B)" >> memory-bank/tracking/changelog.md

# Auto-calcular progresso ap√≥s commits significativos
if [[ $(git log -1 --pretty=%B) =~ (feat|fix|refactor) ]]; then
    ./calculate-progress.sh > /dev/null 2>&1
fi
```

### Aliases √öteis
```bash
# Adicionar ao .bashrc ou .zshrc
alias mb-status="./status.sh"
alias mb-progress="./calculate-progress.sh"
alias mb-next="./suggest-next-step.sh"
alias mb-backup="./backup-memory-bank.sh"
alias mb-task="./new-task.sh"
alias mb-done="./update-task.sh"
```

---

## üîß Troubleshooting

### Problemas Comuns

| Problema | Sintoma | Solu√ß√£o |
|----------|---------|---------|
| **Contexto perdido** | Tempo > 10min para retomar | Melhorar activecontext.md |
| **Decis√µes refeitas** | Mesmo problema resolvido 2x | Consultar decisions.md |
| **Documenta√ß√£o desatualizada** | Info conflitante | Implementar workflow de atualiza√ß√£o |
| **Sobrecarga de docs** | Muitos arquivos para ler | Priorizar core/ e context/ |
| **Pr√≥ximo passo perdido** | N√£o sabe o que fazer | Executar suggest-next-step.sh |
| **Progresso incorreto** | Percentuais n√£o batem | Executar calculate-progress.sh |

### Comandos de Diagn√≥stico
```bash
# Verificar sa√∫de do Memory Bank
find memory-bank -name "*.md" -mtime +7  # Arquivos n√£o atualizados
wc -l memory-bank/context/*.md           # Tamanho dos arquivos de contexto
grep -r "TODO\|FIXME" memory-bank/       # Itens pendentes

# Verificar consist√™ncia de tasks
grep -c "üîÑ \*\*PR√ìXIMO PASSO\*\*" memory-bank/context/tasks.md  # Deve ser 1
grep -c "### \[TASK-" memory-bank/context/tasks.md              # Total de tasks

# Verificar √∫ltima atualiza√ß√£o
ls -la memory-bank/context/activecontext.md | awk '{print $6, $7, $8}'
```

### Script de Diagn√≥stico Completo
```bash
#!/bin/bash
# diagnose.sh - Verifica√ß√£o completa do Memory Bank

echo "üîç DIAGN√ìSTICO COMPLETO DO MEMORY BANK"
echo "======================================"

# Verificar estrutura de arquivos
echo "üìÅ Estrutura de Arquivos:"
if [ -f "memory-bank/core/projectbrief.md" ]; then
    echo "  ‚úÖ projectbrief.md"
else
    echo "  ‚ùå projectbrief.md AUSENTE"
fi

if [ -f "memory-bank/context/activecontext.md" ]; then
    echo "  ‚úÖ activecontext.md"
else
    echo "  ‚ùå activecontext.md AUSENTE"
fi

if [ -f "memory-bank/context/tasks.md" ]; then
    echo "  ‚úÖ tasks.md"
else
    echo "  ‚ùå tasks.md AUSENTE"
fi

# Verificar pr√≥ximos passos
echo ""
echo "üéØ Pr√≥ximos Passos:"
NEXT_STEPS=$(grep -c "üîÑ \*\*PR√ìXIMO PASSO\*\*" memory-bank/context/tasks.md 2>/dev/null || echo "0")
if [ $NEXT_STEPS -eq 1 ]; then
    echo "  ‚úÖ 1 pr√≥ximo passo definido"
elif [ $NEXT_STEPS -eq 0 ]; then
    echo "  ‚ùå Nenhum pr√≥ximo passo definido"
else
    echo "  ‚ö†Ô∏è $NEXT_STEPS pr√≥ximos passos (deveria ser 1)"
fi

# Verificar atualiza√ß√µes recentes
echo ""
echo "üìÖ Atualiza√ß√µes Recentes:"
TODAY=$(date "+%d/%m/%Y")
CONTEXT_DATE=$(grep "√öltima atualiza√ß√£o" memory-bank/context/activecontext.md 2>/dev/null | grep -o "[0-9][0-9]/[0-9][0-9]/[0-9][0-9][0-9][0-9]" || echo "N/A")

if [ "$CONTEXT_DATE" = "$TODAY" ]; then
    echo "  ‚úÖ activecontext.md atualizado hoje"
else
    echo "  ‚ö†Ô∏è activecontext.md n√£o atualizado hoje (√∫ltima: $CONTEXT_DATE)"
fi

# Verificar progresso
echo ""
echo "üìä Progresso:"
COMPLETED_TASKS=$(grep -c "‚úÖ Conclu√≠do" memory-bank/context/tasks.md 2>/dev/null || echo "0")
TOTAL_TASKS=$(grep -c "### \[TASK-" memory-bank/context/tasks.md 2>/dev/null || echo "1")
PROGRESS=$((COMPLETED_TASKS * 100 / TOTAL_TASKS))
echo "  üìà $PROGRESS% conclu√≠do ($COMPLETED_TASKS/$TOTAL_TASKS tasks)"

# Verificar bloqueios
echo ""
echo "üö´ Bloqueios:"
BLOCKERS=$(grep -c "Pendente" memory-bank/context/activecontext.md 2>/dev/null || echo "0")
if [ $BLOCKERS -eq 0 ]; then
    echo "  ‚úÖ Sem bloqueios ativos"
else
    echo "  ‚ö†Ô∏è $BLOCKERS bloqueios ativos"
fi

# Recomenda√ß√µes
echo ""
echo "üí° RECOMENDA√á√ïES:"
if [ $NEXT_STEPS -ne 1 ]; then
    echo "  üéØ Definir exatamente 1 pr√≥ximo passo"
fi
if [ "$CONTEXT_DATE" != "$TODAY" ]; then
    echo "  üìù Atualizar activecontext.md"
fi
if [ $BLOCKERS -gt 0 ]; then
    echo "  üö´ Resolver bloqueios pendentes"
fi

echo ""
echo "üéâ Diagn√≥stico conclu√≠do!"
```

---

## üéâ Benef√≠cios Esperados

### Imediatos (1-2 sess√µes)
- ‚úÖ **Zero perda de contexto** - Sempre sabe exatamente o pr√≥ximo passo
- ‚úÖ **Redu√ß√£o de 90% no tempo de warm-up** - M√°ximo 2 minutos para retomar
- ‚úÖ **Progresso vis√≠vel** - Percentual exato de conclus√£o sempre atualizado
- ‚úÖ **Decis√µes rastre√°veis** - Hist√≥rico completo de escolhas arquiteturais

### M√©dio Prazo (1-2 semanas)
- ‚úÖ **Estimativas precisas** - Sabe exatamente quanto falta para terminar
- ‚úÖ **Velocidade otimizada** - Identifica padr√µes de produtividade
- ‚úÖ **Onboarding instant√¢neo** - Novos membros produtivos em < 1 dia
- ‚úÖ **Redu√ß√£o de 95% em decis√µes refeitas** - Contexto sempre preservado

### Longo Prazo (1+ m√™s)
- ‚úÖ **Base de conhecimento rica** - Hist√≥rico completo do projeto
- ‚úÖ **Padr√µes identificados** - Otimiza√ß√µes baseadas em dados reais
- ‚úÖ **Documenta√ß√£o que evolui** - Sistema que melhora com o uso
- ‚úÖ **Previsibilidade total** - Estimativas confi√°veis de conclus√£o

---

## üìã Checklist de Implementa√ß√£o

### ‚úÖ Fase 1: Setup B√°sico (30 minutos)
- [ ] Executar `./setup-memory-bank.sh`
- [ ] Criar `memory-bank/core/projectbrief.md` com escopo total
- [ ] Criar primeira task em `memory-bank/context/tasks.md`
- [ ] Definir primeiro pr√≥ximo passo com üîÑ
- [ ] Testar `./calculate-progress.sh`

### ‚úÖ Fase 2: Automa√ß√£o (1 hora)
- [ ] Configurar scripts de c√°lculo de progresso
- [ ] Implementar workflow de in√≠cio/fim de sess√£o
- [ ] Configurar Git hooks autom√°ticos
- [ ] Testar `./update-task.sh` e `./new-task.sh`
- [ ] Configurar aliases √∫teis

### ‚úÖ Fase 3: Otimiza√ß√£o (1 semana)
- [ ] Refinar estimativas baseadas em velocidade real
- [ ] Ajustar templates conforme necessidade
- [ ] Implementar m√©tricas personalizadas
- [ ] Treinar equipe nos workflows
- [ ] Documentar li√ß√µes aprendidas

---

> **üí° Dica Final:** O Memory Bank v2.0 √© um sistema vivo. Comece simples com apenas `tasks.md` e `activecontext.md`, depois adicione complexidade gradualmente. O importante √© **NUNCA PERDER O PR√ìXIMO PASSO** - sempre tenha exatamente uma subtask marcada com üîÑ **PR√ìXIMO PASSO**.

**üéØ Com este sistema, voc√™ sempre saber√°:**
- ‚úÖ **O que fazer agora** (pr√≥ximo subtask espec√≠fico)
- ‚úÖ **Quanto falta** (percentual exato e horas restantes)  
- ‚úÖ **Quando vai terminar** (data estimada baseada na velocidade atual)
- ‚úÖ **Como continuar** (contexto completo preservado)

**Nunca mais perca tempo perguntando "qual √© o pr√≥ximo passo?" - o sistema sempre ter√° a resposta!** üöÄ
